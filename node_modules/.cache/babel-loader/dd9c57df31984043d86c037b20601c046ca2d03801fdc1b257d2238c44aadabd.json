{"ast":null,"code":"import API_CONFIG from '../config/api';\nclass ApiService {\n  constructor() {\n    this.baseURL = API_CONFIG.BASE_URL;\n    this.token = localStorage.getItem('authToken');\n  }\n  setToken(token) {\n    this.token = token;\n    if (token) {\n      localStorage.setItem('authToken', token);\n    } else {\n      localStorage.removeItem('authToken');\n    }\n  }\n  async request(endpoint, options = {}) {\n    const url = `${this.baseURL}${endpoint}`;\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        ...(this.token && {\n          Authorization: `Bearer ${this.token}`\n        }),\n        ...options.headers\n      },\n      ...options\n    };\n    if (config.body && typeof config.body === 'object') {\n      config.body = JSON.stringify(config.body);\n    }\n    try {\n      const response = await fetch(url, config);\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.error || `HTTP error! status: ${response.status}`);\n      }\n      return data;\n    } catch (error) {\n      console.error('API request failed:', error);\n      throw error;\n    }\n  }\n\n  // Authentication methods\n  async login(credentials) {\n    const response = await this.request(API_CONFIG.ENDPOINTS.LOGIN, {\n      method: 'POST',\n      body: credentials\n    });\n    if (response.token) {\n      this.setToken(response.token);\n    }\n    return response;\n  }\n  async logout() {\n    try {\n      await this.request(API_CONFIG.ENDPOINTS.LOGOUT, {\n        method: 'POST'\n      });\n    } catch (error) {\n      console.error('Logout error:', error);\n    } finally {\n      this.setToken(null);\n    }\n  }\n  async getCurrentUser() {\n    return this.request(API_CONFIG.ENDPOINTS.USERS + '/me');\n  }\n\n  // Deal management methods\n  async decodeVIN(vin) {\n    return this.request(API_CONFIG.ENDPOINTS.DECODE_VIN, {\n      method: 'POST',\n      body: {\n        vin\n      }\n    });\n  }\n  async searchDealers(query) {\n    return this.request(`${API_CONFIG.ENDPOINTS.SEARCH_DEALERS}?q=${encodeURIComponent(query)}`);\n  }\n  async createDeal(dealData) {\n    return this.request(API_CONFIG.ENDPOINTS.DEALS, {\n      method: 'POST',\n      body: dealData\n    });\n  }\n  async getDeals(filters = {}) {\n    const queryParams = new URLSearchParams(filters).toString();\n    return this.request(`${API_CONFIG.ENDPOINTS.DEALS}${queryParams ? `?${queryParams}` : ''}`);\n  }\n  async updateDeal(dealId, dealData) {\n    return this.request(`${API_CONFIG.ENDPOINTS.DEALS}/${dealId}`, {\n      method: 'PUT',\n      body: dealData\n    });\n  }\n  async deleteDeal(dealId) {\n    return this.request(`${API_CONFIG.ENDPOINTS.DEALS}/${dealId}`, {\n      method: 'DELETE'\n    });\n  }\n\n  // Dealer management methods\n  async getDealers(filters = {}) {\n    const queryParams = new URLSearchParams(filters).toString();\n    return this.request(`/dealers${queryParams ? `?${queryParams}` : ''}`);\n  }\n  async createDealer(dealerData) {\n    return this.request('/dealers', {\n      method: 'POST',\n      body: dealerData\n    });\n  }\n  async updateDealer(dealerId, dealerData) {\n    return this.request(`/dealers/${dealerId}`, {\n      method: 'PUT',\n      body: dealerData\n    });\n  }\n  async deleteDealer(dealerId) {\n    return this.request(`/dealers/${dealerId}`, {\n      method: 'DELETE'\n    });\n  }\n}\nexport default new ApiService();","map":{"version":3,"names":["API_CONFIG","ApiService","constructor","baseURL","BASE_URL","token","localStorage","getItem","setToken","setItem","removeItem","request","endpoint","options","url","config","headers","Authorization","body","JSON","stringify","response","fetch","data","json","ok","Error","error","status","console","login","credentials","ENDPOINTS","LOGIN","method","logout","LOGOUT","getCurrentUser","USERS","decodeVIN","vin","DECODE_VIN","searchDealers","query","SEARCH_DEALERS","encodeURIComponent","createDeal","dealData","DEALS","getDeals","filters","queryParams","URLSearchParams","toString","updateDeal","dealId","deleteDeal","getDealers","createDealer","dealerData","updateDealer","dealerId","deleteDealer"],"sources":["/Users/bsauer02/Desktop/Opis3.0/rp-exotics-frontend/src/services/api.js"],"sourcesContent":["import API_CONFIG from '../config/api';\n\nclass ApiService {\n  constructor() {\n    this.baseURL = API_CONFIG.BASE_URL;\n    this.token = localStorage.getItem('authToken');\n  }\n\n  setToken(token) {\n    this.token = token;\n    if (token) {\n      localStorage.setItem('authToken', token);\n    } else {\n      localStorage.removeItem('authToken');\n    }\n  }\n\n  async request(endpoint, options = {}) {\n    const url = `${this.baseURL}${endpoint}`;\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        ...(this.token && { Authorization: `Bearer ${this.token}` }),\n        ...options.headers,\n      },\n      ...options,\n    };\n\n    if (config.body && typeof config.body === 'object') {\n      config.body = JSON.stringify(config.body);\n    }\n\n    try {\n      const response = await fetch(url, config);\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || `HTTP error! status: ${response.status}`);\n      }\n\n      return data;\n    } catch (error) {\n      console.error('API request failed:', error);\n      throw error;\n    }\n  }\n\n  // Authentication methods\n  async login(credentials) {\n    const response = await this.request(API_CONFIG.ENDPOINTS.LOGIN, {\n      method: 'POST',\n      body: credentials\n    });\n    \n    if (response.token) {\n      this.setToken(response.token);\n    }\n    \n    return response;\n  }\n\n  async logout() {\n    try {\n      await this.request(API_CONFIG.ENDPOINTS.LOGOUT, {\n        method: 'POST'\n      });\n    } catch (error) {\n      console.error('Logout error:', error);\n    } finally {\n      this.setToken(null);\n    }\n  }\n\n  async getCurrentUser() {\n    return this.request(API_CONFIG.ENDPOINTS.USERS + '/me');\n  }\n\n  // Deal management methods\n  async decodeVIN(vin) {\n    return this.request(API_CONFIG.ENDPOINTS.DECODE_VIN, {\n      method: 'POST',\n      body: { vin }\n    });\n  }\n\n  async searchDealers(query) {\n    return this.request(`${API_CONFIG.ENDPOINTS.SEARCH_DEALERS}?q=${encodeURIComponent(query)}`);\n  }\n\n  async createDeal(dealData) {\n    return this.request(API_CONFIG.ENDPOINTS.DEALS, {\n      method: 'POST',\n      body: dealData\n    });\n  }\n\n  async getDeals(filters = {}) {\n    const queryParams = new URLSearchParams(filters).toString();\n    return this.request(`${API_CONFIG.ENDPOINTS.DEALS}${queryParams ? `?${queryParams}` : ''}`);\n  }\n\n  async updateDeal(dealId, dealData) {\n    return this.request(`${API_CONFIG.ENDPOINTS.DEALS}/${dealId}`, {\n      method: 'PUT',\n      body: dealData\n    });\n  }\n\n  async deleteDeal(dealId) {\n    return this.request(`${API_CONFIG.ENDPOINTS.DEALS}/${dealId}`, {\n      method: 'DELETE'\n    });\n  }\n\n  // Dealer management methods\n  async getDealers(filters = {}) {\n    const queryParams = new URLSearchParams(filters).toString();\n    return this.request(`/dealers${queryParams ? `?${queryParams}` : ''}`);\n  }\n\n  async createDealer(dealerData) {\n    return this.request('/dealers', {\n      method: 'POST',\n      body: dealerData\n    });\n  }\n\n  async updateDealer(dealerId, dealerData) {\n    return this.request(`/dealers/${dealerId}`, {\n      method: 'PUT',\n      body: dealerData\n    });\n  }\n\n  async deleteDealer(dealerId) {\n    return this.request(`/dealers/${dealerId}`, {\n      method: 'DELETE'\n    });\n  }\n}\n\nexport default new ApiService(); "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}